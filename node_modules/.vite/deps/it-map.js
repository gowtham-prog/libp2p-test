import {
  src_default
} from "./chunk-CKY2MTBY.js";
import "./chunk-CWJX2WJ3.js";

// ../../node_modules/it-map/dist/src/index.js
function isAsyncIterable(thing) {
  return thing[Symbol.asyncIterator] != null;
}
function map(source, func) {
  if (isAsyncIterable(source)) {
    return async function* () {
      for await (const val of source) {
        yield func(val);
      }
    }();
  }
  const peekable = src_default(source);
  const { value, done } = peekable.next();
  if (done === true) {
    return function* () {
    }();
  }
  const res = func(value);
  if (typeof res.then === "function") {
    return async function* () {
      yield await res;
      for await (const val of peekable) {
        yield func(val);
      }
    }();
  }
  const fn = func;
  return function* () {
    yield res;
    for (const val of peekable) {
      yield fn(val);
    }
  }();
}
var src_default2 = map;

// dep:it-map
var it_map_default = src_default2;
export {
  it_map_default as default
};
//# sourceMappingURL=it-map.js.map
